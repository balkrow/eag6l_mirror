# $(warning "Started")
#List of subfolders to include in build
MODULES :=

#List of subfolders to include in build
FILES := \
    cmi-key-pk.c \
    cmi-http.c \
    cmi-edb.c \
    cmi-debug.c \
    cmi-crl.c \
    cmi-config.c \
    cmi-cert.c \
    cmac.c \
    cert-db.c \
    bufhash.c \
    arcfour.c \
    ansi-x962rand.c \
    ansi-x917rand.c \
    aes_keywrap.c \
    crypto_init.c \
    cmi.c \
    cmi-trust.c \
    cmi-pcnst.c \
    cmi-ocsp.c \
    cmi-map.c \
    cmi-list.c \
    cmi-ldap.c \
    cmi-key.c \
    genaccprovider.c \
    genaccdevice.c \
    extkeyprov.c \
    ecpfix.c \
    eckeys.c \
    dsa-user.c \
    dsa-maker.c \
    dn-util.c \
    dn-ldap.c \
    dn-der.c \
    dlfix.c \
    dl-utility.c \
    dl-stack.c \
    dl-generate.c \
    dl-dsa.c \
    dl-dh.c \
    devrandom.c \
    des.c \
    crypto_tests.c \
    ocsp_http.c \
    ocsp_common.c \
    ocsp_client.c \
    nociph.c \
    nist-sp-800-90.c \
    nist-health-test.c \
    mode-gcm.c \
    md5.c \
    md4.c \
    md2.c \
    macs.c \
    libmonitor.c \
    ldap-strtofilter.c \
    ldap-search.c \
    ldap-output.c \
    ldap-object.c \
    ldap-input.c \
    ldap-init.c \
    ldap-ext.c \
    ldap-conv.c \
    ldap-connect.c \
    ldap-bind.c \
    keyexpand.c \
    hmac.c \
    genrand.c \
    genpkcs_public.c \
    genpkcs_private.c \
    genpkcs.c \
    genmp-prime.c \
    genmp-integer.c \
    genmac.c \
    genhash.c \
    genciph.c \
    genauxmp.c \
    genaux.c \
    sha256.c \
    sha.c \
    rsa-utility.c \
    rsa-user.c \
    rsa-operation.c \
    rsa-maker.c \
    rsa-generate.c \
    rijndael.c \
    rc2.c \
    randompool.c \
    pkcs8.c \
    pkcs7-receive.c \
    pkcs7-receive-sync.c \
    pkcs7-encode.c \
    pkcs7-decode.c \
    pkcs7-create.c \
    pkcs7-create-sync.c \
    pkcs7-common.c \
    pkcs6.c \
    pkcs5.c \
    pkcs12.c \
    pkcs12-conv.c \
    pkcs1.c \
    pkcs1-formats.c \
    pem-format.c \
    oldimportapi.c \
    oid.c \
    sshasn1.c \
    sshadt_priority_heap.c \
    sshadt_map.c \
    sshadt_list.c \
    sshadt_conv.c \
    sshadt.c \
    ssh_berfile.c \
    ssh2pubkeyencode.c \
    ssh1encode.c \
    ssh-pk-prv-gen.c \
    ssh-pk-prv-def.c \
    ssh-pk-group.c \
    ssh-pk-export.c \
    softprovider.c \
    sha512.c \
    ssheap_protocol.c \
    ssheap_pass_through.c \
    ssheap_params.c \
    ssheap_packet.c \
    ssheap_mschap.c \
    ssheap_md5.c \
    ssheap_connection.c \
    ssheap_config.c \
    ssheap_common.c \
    ssheap_aka.c \
    sshdllist.c \
    sshdebug.c \
    sshcryptoaux.c \
    sshcipheralias.c \
    sshcalendar.c \
    sshbuffer.c \
    sshbufaux.c \
    sshber.c \
    sshber-util.c \
    sshbase64.c \
    sshbase16.c \
    sshasn1print.c \
    sshasn1create.c \
    sshglobals.c \
    sshglist.c \
    sshgetopt.c \
    sshfsm.c \
    sshfingerprint.c \
    sshfilterstream.c \
    sshfileio.c \
    sshfatal.c \
    sshfastalloc.c \
    sshexternalkey.c \
    sshenumcase.c \
    sshenum.c \
    sshentropy.c \
    sshencodetypes.c \
    sshencode.c \
    ssheap_tls.c \
    ssheap_sim.c \
    ssheap_setup.c \
    ssheap_radius.c \
    sshmp-ecp.c \
    sshmp-arithmetic.c \
    sshmp-arithmetic-extra.c \
    sshmp-2adic.c \
    sshmiscstring.c \
    sshmatch.c \
    sshmallocdebug.c \
    sshmalloc.c \
    sshkeyblob2.c \
    sshkeyblob1.c \
    sshinetstrtobin.c \
    sshinetscope.c \
    sshinetrender.c \
    sshinetprint.c \
    sshinetparse.c \
    sshinetnetmask.c \
    sshinetmapped.c \
    sshinet.c \
    sshhttputils.c \
    sshhttpclient.c \
    sshoperation.c \
    sshobstack.c \
    sshnameserver.c \
    sshmp-powm.c \
    sshmp-naf.c \
    sshmp-montgomery.c \
    sshmp-kernel.c \
    sshmp-intmod.c \
    sshmp-integer-misc.c \
    sshmp-integer-core.c \
    sshmp-init.c \
    sshsnprintf.c \
    sshsimplehashtable.c \
    sshsieve.c \
    sshrgf.c \
    sshrgf-pss.c \
    sshrgf-oaep.c \
    sshrgf-mgf1.c \
    sshrandom.c \
    sshrand.c \
    sshradius_url.c \
    sshradius_tables.c \
    sshradius.c \
    sshpubkey.c \
    sshprvkey.c \
    sshproxykey.c \
    sshtimemeasure.c \
    sshtime.c \
    sshtcp.c \
    sshstreampair.c \
    sshstream.c \
    sshstr.c \
    sshsocks.c \
    sshunixfdstream.c \
    sshunixeloop.c \
    sshunixdirectory.c \
    sshudp-str.c \
    sshudp-ip.c \
    sshtimeouts.c \
    tls_kt_cont_funcs.c \
    tls_kt_WServerKeyExchance.c \
    tls_kt_WServerHelloDone.c \
    tls_kt_WServerHello.c \
    tls_kt_WHelloRequest.c \
    tls_kt_WFinished.c \
    tls_kt_WClientKeyExchance.c \
    tls_kt_WClientHello.c \
    tls_kt_WChangeCipher.c \
    tls_kt_WCertificateVerify.c \
    tls_kt_WCertificateRequest.c \
    tls_kt_WCertificate.c \
    tls_kt_RServerKeyExchance.c \
    tls_kt_RServerHelloDone.c \
    tls_kt_RServerHello.c \
    tls_kt_RFinished.c \
    tls_kt_RClientKeyExchange.c \
    tls_kt_RClientHello.c \
    tls_kt_RChangeCipher.c \
    tls_kt_RCertificateVerify.c \
    tls_kt_RCertificateRequest.c \
    tls_kt_RCertificate.c \
    tls_kextrans.c \
    tls_kex.c \
    tls_downstream.c \
    tls_crypto.c \
    tls_cache.c \
    tls_async.c \
    tls_appstream.c \
    tls_alert.c \
    ssl3mac.c \
    sshxmalloc.c \
    sshxbuffer.c \
    sshutil.c \
    sshustr.c \
    sshurl.c \
    sshunixudp.c \
    sshunixtcp.c \
    xcbc-mac.c \
    x509signature.c \
    x509set.c \
    x509public_encode.c \
    x509public_decode.c \
    x509private.c \
    x509name_encode.c \
    x509name_decode.c \
    x509get.c \
    x509ext_decode.c \
    x509crl_decode.c \
    x509crl.c \
    x509cert_decode.c \
    x509cert.c \
    x509.c \
    tls_util.c \
    tls_tempkey.c \
    tls_suites.c \
    tls_record.c \
    tls_multihash.c \
    tls_main.c

CWD := $(dir $(lastword $(MAKEFILE_LIST)))

#Add relative path to original Makefile, to each file in the list
MACSEC_APP_SRC += $(patsubst %,$(CWD)%,$(FILES))

#Enable this line to add include path of this folder
#CFLAGS := $(CFLAGS) -I$(CWD)

#Recursively go into list of subfolders
include $(patsubst %,$(CWD)%/$(MAKEFILE),$(MODULES))
