# $(warning "Started") 

#List of subfolders to include in build
MODULES := 

#CONFIG_INCLUDE_FLEXE_AGENT=y

ifeq (y, $(CONFIG_INCLUDE_FLEXE_AGENT))
        MODULES += flexeAgent
		CFLAGS += -DFLEXE_AGENT_IN_CPSS
endif

#List of files to include in list
FILES := \
 prvCpssFlexe.c \
 prvCpssFlexeIpc.c \
 prvCpssFlexePhy.c \
 cpssFlexe.c

#ifeq (y, $(CONFIG_LOG_ENABLE))
#FILES += \
# prvCpssGenFlexeLog.c \
# prvCpssGenFlexeManualLog.c
#endif


CWD := $(dir $(lastword $(MAKEFILE_LIST)))

#Add relative path to original Makefile, to each file in the list
MAINPPDRV_SRC += $(patsubst %,$(CWD)%,$(FILES))

#Enable this line to add include path of this folder
#CFLAGS := $(CFLAGS) -I$(CWD)

#Recursively go into list of subfolders
include $(patsubst %,$(CWD)%/$(MAKEFILE),$(MODULES))

